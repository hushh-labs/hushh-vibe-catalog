namespace hushh.hcf;

table Product {
  id: string;
  description: string;
  base64: string;
  img_url: string;
  url: string;
}

table TextVibe {
  id: string;
  description: string;
  url: string;
  product_idx: [int];
}

table ImageVibe {
  id: string;
  base64: string;
  img_url: string;
  product_idx: [int];
}

table Category {
  id: string;
  description: string;
  url: string;
  product_idx: [int];
}

enum VibeType : byte { ProductText = 0, ProductImage, Text, Image, Category}

table FlatEmbeddingBatch {
    id: string;
    dim: int;
    type: VibeType;
    flat_tensor:[float];
}

table ProductVibes {
  products: [Product];
  categories: Category;
  text: [TextVibe];
  image: [ImageVibe];
  flat_batches: [FlatEmbeddingBatch];
}

union Vibes { ProductVibes }

table Catalog {
  id : string;
  version: string;
  description: string;
  vibes: Vibes;
}

root_type Catalog;
