[
  {
    "objectID": "changelog.html",
    "href": "changelog.html",
    "title": "Changelog",
    "section": "",
    "text": "All notable changes to this project will be documented in this file.\nThe format is based on Keep a Changelog and this project adheres to Semantic Versioning.\n\n\n\nCompare with latest\n\n\n\nadd catalog docs (5f01f3b by Justin Donaldson).\n\n\n\n\n\n\nCompare with v0.2.1\n\n\n\nCompare with v0.2.0\n\n\n\nCompare with v0.1.14\n\n\n\nCompare with v0.1.13\n\n\n\nCompare with v0.1.12\n\n\n\nCompare with v0.1.11\n\n\n\nCompare with v0.1.6\n\n\n\nCompare with v0.1.5\n\n\n\nCompare with v0.1.4\n\n\n\nfix release phase (662b7a0 by Justin Donaldson).\nfix missing project name (a6b886c by Justin Donaldson).\nfix cicd string issue (366c07d by Justin Donaldson).\nfix cicd labels (70e7cd3 by Justin Donaldson).\n\n\n\n\n\nCompare with v0.1.3\n\n\n\nadd python build lib to deps (f178f8b by Justin Donaldson).\n\n\n\n\n\nCompare with v0.1.2\n\n\n\nCompare with v0.1.1\n\n\n\nCompare with v0.0.2\n\n\n\nadd timing (e55a6d5 by Justin Donaldson).\nadd pandas (965bb50 by Justin Donaldson).\nadd pydoc (f6c65c6 by Justin Donaldson).\nadd product constructors (5466330 by Justin Donaldson).\nadd version helper (bce1031 by Justin Donaldson).\nadd symlink for now (9269706 by Justin Donaldson).\n\n\n\n\n\nfix version (0410ffd by Justin Donaldson).\nfix create catalog notebook (c04d5bd by Justin Donaldson).\nfix cicd (49ca799 by Justin Donaldson).\nfix test (22db1cd by Justin Donaldson).\nfix tests (c9ca80e by Justin Donaldson).\nfix readme (2b9a57c by Justin Donaldson).\n\n\n\n\n\nCompare with first commit\n\n\n\nfix makefile (4d5ed1e by Justin Donaldson).\nfix deps (bd4e3fc by Justin Donaldson)."
  },
  {
    "objectID": "changelog.html#unreleased",
    "href": "changelog.html#unreleased",
    "title": "Changelog",
    "section": "",
    "text": "Compare with latest\n\n\n\nadd catalog docs (5f01f3b by Justin Donaldson)."
  },
  {
    "objectID": "changelog.html#v0.3.0---2024-03-21",
    "href": "changelog.html#v0.3.0---2024-03-21",
    "title": "Changelog",
    "section": "",
    "text": "Compare with v0.2.1"
  },
  {
    "objectID": "changelog.html#v0.2.1---2024-03-20",
    "href": "changelog.html#v0.2.1---2024-03-20",
    "title": "Changelog",
    "section": "",
    "text": "Compare with v0.2.0"
  },
  {
    "objectID": "changelog.html#v0.2.0---2024-03-20",
    "href": "changelog.html#v0.2.0---2024-03-20",
    "title": "Changelog",
    "section": "",
    "text": "Compare with v0.1.14"
  },
  {
    "objectID": "changelog.html#v0.1.14---2024-03-08",
    "href": "changelog.html#v0.1.14---2024-03-08",
    "title": "Changelog",
    "section": "",
    "text": "Compare with v0.1.13"
  },
  {
    "objectID": "changelog.html#v0.1.13---2024-03-08",
    "href": "changelog.html#v0.1.13---2024-03-08",
    "title": "Changelog",
    "section": "",
    "text": "Compare with v0.1.12"
  },
  {
    "objectID": "changelog.html#v0.1.12---2024-03-07",
    "href": "changelog.html#v0.1.12---2024-03-07",
    "title": "Changelog",
    "section": "",
    "text": "Compare with v0.1.11"
  },
  {
    "objectID": "changelog.html#v0.1.11---2024-03-07",
    "href": "changelog.html#v0.1.11---2024-03-07",
    "title": "Changelog",
    "section": "",
    "text": "Compare with v0.1.6"
  },
  {
    "objectID": "changelog.html#v0.1.6---2024-03-06",
    "href": "changelog.html#v0.1.6---2024-03-06",
    "title": "Changelog",
    "section": "",
    "text": "Compare with v0.1.5"
  },
  {
    "objectID": "changelog.html#v0.1.5---2024-03-06",
    "href": "changelog.html#v0.1.5---2024-03-06",
    "title": "Changelog",
    "section": "",
    "text": "Compare with v0.1.4\n\n\n\nfix release phase (662b7a0 by Justin Donaldson).\nfix missing project name (a6b886c by Justin Donaldson).\nfix cicd string issue (366c07d by Justin Donaldson).\nfix cicd labels (70e7cd3 by Justin Donaldson)."
  },
  {
    "objectID": "changelog.html#v0.1.4---2024-03-05",
    "href": "changelog.html#v0.1.4---2024-03-05",
    "title": "Changelog",
    "section": "",
    "text": "Compare with v0.1.3\n\n\n\nadd python build lib to deps (f178f8b by Justin Donaldson)."
  },
  {
    "objectID": "changelog.html#v0.1.3---2024-02-29",
    "href": "changelog.html#v0.1.3---2024-02-29",
    "title": "Changelog",
    "section": "",
    "text": "Compare with v0.1.2"
  },
  {
    "objectID": "changelog.html#v0.1.2---2024-02-29",
    "href": "changelog.html#v0.1.2---2024-02-29",
    "title": "Changelog",
    "section": "",
    "text": "Compare with v0.1.1"
  },
  {
    "objectID": "changelog.html#v0.1.1---2024-02-29",
    "href": "changelog.html#v0.1.1---2024-02-29",
    "title": "Changelog",
    "section": "",
    "text": "Compare with v0.0.2\n\n\n\nadd timing (e55a6d5 by Justin Donaldson).\nadd pandas (965bb50 by Justin Donaldson).\nadd pydoc (f6c65c6 by Justin Donaldson).\nadd product constructors (5466330 by Justin Donaldson).\nadd version helper (bce1031 by Justin Donaldson).\nadd symlink for now (9269706 by Justin Donaldson).\n\n\n\n\n\nfix version (0410ffd by Justin Donaldson).\nfix create catalog notebook (c04d5bd by Justin Donaldson).\nfix cicd (49ca799 by Justin Donaldson).\nfix test (22db1cd by Justin Donaldson).\nfix tests (c9ca80e by Justin Donaldson).\nfix readme (2b9a57c by Justin Donaldson)."
  },
  {
    "objectID": "changelog.html#v0.0.2---2023-11-10",
    "href": "changelog.html#v0.0.2---2023-11-10",
    "title": "Changelog",
    "section": "",
    "text": "Compare with first commit\n\n\n\nfix makefile (4d5ed1e by Justin Donaldson).\nfix deps (bd4e3fc by Justin Donaldson)."
  },
  {
    "objectID": "notebooks/Create Catalog.html",
    "href": "notebooks/Create Catalog.html",
    "title": "Create a Hushh Vibe Catalog",
    "section": "",
    "text": "Download an example product catalog from this Kaggle dataset.\nimport glob\nfrom hushh import catalog\nfrom hushh.catalog import Catalog, Product, Brand\nfrom PIL import Image\nimport json\nfrom tqdm import tqdm\nimport pandas as pd\nimport msgpack\nimport os\nimport timeit"
  },
  {
    "objectID": "notebooks/Create Catalog.html#download-data",
    "href": "notebooks/Create Catalog.html#download-data",
    "title": "Create a Hushh Vibe Catalog",
    "section": "Download Data",
    "text": "Download Data\nUncomment and execute the next two cells to download/unzip the image dataset\n\n# !kaggle datasets download paramaggarwal/fashion-product-images-small --force \n\n\n# ! unzip -o fashion-product-images-small.zip &gt; /dev/null"
  },
  {
    "objectID": "notebooks/Create Catalog.html#data-details",
    "href": "notebooks/Create Catalog.html#data-details",
    "title": "Create a Hushh Vibe Catalog",
    "section": "Data Details",
    "text": "Data Details\nThe dataset contains around ~40K fashion related images\n\nlen(glob.glob(\"images/*\"))\n\n44441\n\n\nTaking a quick look at the images, they’re jpeg files, with an id as a file name.\n\nprint(glob.glob(\"images/*\")[:10])\n\n['images/9733.jpg', 'images/14147.jpg', 'images/52112.jpg', 'images/6400.jpg', 'images/34297.jpg', 'images/24084.jpg', 'images/12536.jpg', 'images/54563.jpg', 'images/15259.jpg', 'images/35189.jpg']\n\n\nThe “styles” csv file gives some of the metadata for a given id.\n\nstyles = pd.read_csv(\"styles.csv\",usecols=range(10), index_col=0)\nstyles.head()\n\n\n\n\n\n\n\n\n\ngender\nmasterCategory\nsubCategory\narticleType\nbaseColour\nseason\nyear\nusage\nproductDisplayName\n\n\nid\n\n\n\n\n\n\n\n\n\n\n\n\n\n15970\nMen\nApparel\nTopwear\nShirts\nNavy Blue\nFall\n2011.0\nCasual\nTurtle Check Men Navy Blue Shirt\n\n\n39386\nMen\nApparel\nBottomwear\nJeans\nBlue\nSummer\n2012.0\nCasual\nPeter England Men Party Blue Jeans\n\n\n59263\nWomen\nAccessories\nWatches\nWatches\nSilver\nWinter\n2016.0\nCasual\nTitan Women Silver Watch\n\n\n21379\nMen\nApparel\nBottomwear\nTrack Pants\nBlack\nFall\n2011.0\nCasual\nManchester United Men Solid Black Track Pants\n\n\n53759\nMen\nApparel\nTopwear\nTshirts\nGrey\nSummer\n2012.0\nCasual\nPuma Men Grey T-shirt"
  },
  {
    "objectID": "notebooks/Create Catalog.html#creating-a-hushh-catalog",
    "href": "notebooks/Create Catalog.html#creating-a-hushh-catalog",
    "title": "Create a Hushh Vibe Catalog",
    "section": "Creating a Hushh Catalog",
    "text": "Creating a Hushh Catalog\nWe can create a catalog using the hushh catalog api. We follow these steps for each image file:\n\nExtract the id from the filename.\nLookup the metadata for the id.\nCreate a product for the id and metadata (using a dummy url, since we won’t be linking to a product url).\n\nThe Catalog comes with its own method for writing catalog files.\n\n\ncat = Catalog(\"demo_catalog\")\ndummy_brand = Brand(\"dummy\", \"description\", \"dummy_url\")\nfor filename in tqdm(glob.glob(\"images/*\")):\n    id, ext = os.path.splitext(os.path.basename(filename))\n    id = int(id)\n    style = styles.loc[id]\n    if pd.isna(style.productDisplayName):\n        pass\n        # print(f\"Skipping: {id}, product had no description\")\n    else:\n        prod = Product(description=style.productDisplayName, url=\"dummy_url\", image_path=filename, brand = dummy_brand)\n        cat.addProduct(prod)\n\nprint(\"Writing Catalog\")\ncat.to_hcf(\"catalog.hcf\")\n\n100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 44441/44441 [00:00&lt;00:00, 45479.75it/s]\n\n\nWriting Catalog\nCollected images and text for batch 0\nCollected inputs for batch 0\nCollected Image and text features for batch 0\nImage embeddings collected for batch 0\nText embeddings collected for batch 0\nCollected images and text for batch 1\nCollected inputs for batch 1\nCollected Image and text features for batch 1\nImage embeddings collected for batch 1\nText embeddings collected for batch 1\nCollected images and text for batch 2\nCollected inputs for batch 2\nCollected Image and text features for batch 2\nImage embeddings collected for batch 2\nText embeddings collected for batch 2\nCollected images and text for batch 3\nCollected inputs for batch 3\nCollected Image and text features for batch 3\nImage embeddings collected for batch 3\nText embeddings collected for batch 3\nCollected images and text for batch 4\nCollected inputs for batch 4\nCollected Image and text features for batch 4\nImage embeddings collected for batch 4\nText embeddings collected for batch 4"
  },
  {
    "objectID": "notebooks/Create Catalog.html#create-a-comparison-json-dataset",
    "href": "notebooks/Create Catalog.html#create-a-comparison-json-dataset",
    "title": "Create a Hushh Vibe Catalog",
    "section": "Create a comparison JSON dataset",
    "text": "Create a comparison JSON dataset\nWe will set up a quick and dirty json output for comparison. This just dumps the flatbatch content from the catalog in standard json format.\n\nwith open (\"catalog.json\", \"w\") as fh:\n    json.dump(cat.productVibes, fh, default=lambda o: o.__dict__)"
  },
  {
    "objectID": "reference/Catalog.html",
    "href": "reference/Catalog.html",
    "title": "Catalog",
    "section": "",
    "text": "Catalog(self, description, batchSize=10000, model=None, processor=None, tokenizer=None)\nRepresents a collection of products by one or more brands.\n\n\n\n\n\n\n\n\n\n\nName\nType\nDescription\n\n\n\n\nproductVibes\nhushh.catalog.ProductVibes\nObject containing product vibes.\n\n\nmodel\ntransformers.PreTrainedModel\nPre-trained model for embeddings.\n\n\nprocessor\ntransformers.ProcessorMixin\nProcessor for handling inputs.\n\n\ntokenizer\ntransformers.PreTrainedTokenizer\nTokenizer for processing text inputs.\n\n\n_id_base\nstr\nBase identifier for generating unique IDs.",
    "crumbs": [
      "Reference",
      "Catalog Helpers",
      "Catalog"
    ]
  },
  {
    "objectID": "reference/Catalog.html#attributes",
    "href": "reference/Catalog.html#attributes",
    "title": "Catalog",
    "section": "",
    "text": "Name\nType\nDescription\n\n\n\n\nproductVibes\nhushh.catalog.ProductVibes\nObject containing product vibes.\n\n\nmodel\ntransformers.PreTrainedModel\nPre-trained model for embeddings.\n\n\nprocessor\ntransformers.ProcessorMixin\nProcessor for handling inputs.\n\n\ntokenizer\ntransformers.PreTrainedTokenizer\nTokenizer for processing text inputs.\n\n\n_id_base\nstr\nBase identifier for generating unique IDs.",
    "crumbs": [
      "Reference",
      "Catalog Helpers",
      "Catalog"
    ]
  },
  {
    "objectID": "reference/Brand.html",
    "href": "reference/Brand.html",
    "title": "Brand",
    "section": "",
    "text": "Brand(self, name, description, url)\nRepresents a brand\n\n\n\n\n\nName\nType\nDescription\n\n\n\n\nname\nstr\nThe name of the brand.\n\n\ndescription\nstr\nThe description of the brand.\n\n\nurl\nstr\nThe URL of the brand.\n\n\n\n\n\n\n\n\n\nName\nType\nDescription\nDefault\n\n\n\n\nname\nstr\nThe name of the brand.\nrequired\n\n\ndescription\nstr\nThe description of the brand.\nrequired\n\n\nurl\nstr\nThe URL of the brand.\nrequired",
    "crumbs": [
      "Reference",
      "Catalog Helpers",
      "Brand"
    ]
  },
  {
    "objectID": "reference/Brand.html#attributes",
    "href": "reference/Brand.html#attributes",
    "title": "Brand",
    "section": "",
    "text": "Name\nType\nDescription\n\n\n\n\nname\nstr\nThe name of the brand.\n\n\ndescription\nstr\nThe description of the brand.\n\n\nurl\nstr\nThe URL of the brand.",
    "crumbs": [
      "Reference",
      "Catalog Helpers",
      "Brand"
    ]
  },
  {
    "objectID": "reference/Brand.html#parameters",
    "href": "reference/Brand.html#parameters",
    "title": "Brand",
    "section": "",
    "text": "Name\nType\nDescription\nDefault\n\n\n\n\nname\nstr\nThe name of the brand.\nrequired\n\n\ndescription\nstr\nThe description of the brand.\nrequired\n\n\nurl\nstr\nThe URL of the brand.\nrequired",
    "crumbs": [
      "Reference",
      "Catalog Helpers",
      "Brand"
    ]
  },
  {
    "objectID": "reference/Category.html",
    "href": "reference/Category.html",
    "title": "Category",
    "section": "",
    "text": "Category\nCategory(self, description, url)\nRepresents a category of products.\nAttributes: _id_base (str): The base identifier for the category. description (str): A description of the category. url (str): The URL associated with the category. productIx (list): A list of indices representing products associated with this category.\nMethods: init(self, description: str, url: str): Initializes a Category instance.\nExample: category = Category(“Electronics”, “https://example.com/electronics”)",
    "crumbs": [
      "Reference",
      "Catalog Helpers",
      "Category"
    ]
  },
  {
    "objectID": "reference/Vibe.html",
    "href": "reference/Vibe.html",
    "title": "Vibe",
    "section": "",
    "text": "Vibe\nVibe(self, image_path, description)\nRepresents a vibe associated with products.\nThis class combines features from VibeT and VibeBase.\nAttributes: _id_base (str): The base identifier for the vibe. description (str): A description of the vibe. image_path (str): The path to the image associated with the vibe. productIdx (list): A list of indices representing products associated with this vibe.\nMethods: init(self, image_path: str, description: str): Initializes a Vibe instance.\nExample: vibe = Vibe(“path/to/image.jpg”, “Pants”)",
    "crumbs": [
      "Reference",
      "Catalog Helpers",
      "Vibe"
    ]
  },
  {
    "objectID": "reference/index.html",
    "href": "reference/index.html",
    "title": "Function reference",
    "section": "",
    "text": "Objects and Methods Related To Hushh Catalog Creation\n\n\n\nCatalog\nRepresents a collection of products by one or more brands.\n\n\nBrand\nRepresents a brand\n\n\nProduct\nRepresents a product by a given brand.\n\n\nCategory\nRepresents a category of products.\n\n\nVibe\nRepresents a vibe associated with products.\n\n\nFlatEmbeddingBatch\nRepresents a batch of flat embeddings associated with products.",
    "crumbs": [
      "Reference",
      "Function reference"
    ]
  },
  {
    "objectID": "reference/index.html#catalog-helpers",
    "href": "reference/index.html#catalog-helpers",
    "title": "Function reference",
    "section": "",
    "text": "Objects and Methods Related To Hushh Catalog Creation\n\n\n\nCatalog\nRepresents a collection of products by one or more brands.\n\n\nBrand\nRepresents a brand\n\n\nProduct\nRepresents a product by a given brand.\n\n\nCategory\nRepresents a category of products.\n\n\nVibe\nRepresents a vibe associated with products.\n\n\nFlatEmbeddingBatch\nRepresents a batch of flat embeddings associated with products.",
    "crumbs": [
      "Reference",
      "Function reference"
    ]
  },
  {
    "objectID": "reference/FlatEmbeddingBatch.html",
    "href": "reference/FlatEmbeddingBatch.html",
    "title": "FlatEmbeddingBatch",
    "section": "",
    "text": "FlatEmbeddingBatch(self, shape, vibeMode, flatTensor, productIdx)\nRepresents a batch of flat embeddings associated with products.\nThis class combines features from FlatEmbeddingBatchT and IdBase.\n\n\n\n\n\n\n\n\n\n\nName\nType\nDescription\n\n\n\n\n_id_base\nstr\nThe base identifier for the flat embedding batch.\n\n\nshape\ntyping.List[int]\nThe shape of the flat embedding tensor.\n\n\nvibeMode\nint\nThe vibe mode associated with the flat embeddings.\n\n\nflatTensor\ntyping.List[float]\nThe flat embedding tensor.\n\n\nproductIdx\ntyping.List[int]\nA list of indices representing products associated with this batch of flat embeddings.",
    "crumbs": [
      "Reference",
      "Catalog Helpers",
      "FlatEmbeddingBatch"
    ]
  },
  {
    "objectID": "reference/FlatEmbeddingBatch.html#attributes",
    "href": "reference/FlatEmbeddingBatch.html#attributes",
    "title": "FlatEmbeddingBatch",
    "section": "",
    "text": "Name\nType\nDescription\n\n\n\n\n_id_base\nstr\nThe base identifier for the flat embedding batch.\n\n\nshape\ntyping.List[int]\nThe shape of the flat embedding tensor.\n\n\nvibeMode\nint\nThe vibe mode associated with the flat embeddings.\n\n\nflatTensor\ntyping.List[float]\nThe flat embedding tensor.\n\n\nproductIdx\ntyping.List[int]\nA list of indices representing products associated with this batch of flat embeddings.",
    "crumbs": [
      "Reference",
      "Catalog Helpers",
      "FlatEmbeddingBatch"
    ]
  },
  {
    "objectID": "reference/Product.html",
    "href": "reference/Product.html",
    "title": "Product",
    "section": "",
    "text": "Product(self, description, url, image_path, brand)\nRepresents a product by a given brand.\n\n\n\n\n\n\n\n\n\n\nName\nType\nDescription\n\n\n\n\ndescription\nstr\nThe description of the product.\n\n\nurl\nstr\nThe URL of the product.\n\n\nimage_path\nstr\nThe path to the image of the product.\n\n\nbrand\nhushh.catalog.Brand\nThe brand of the product.\n\n\ntextVibes\nlist\nA list of text vibes associated with the product.\n\n\nimageVibes\nlist\nA list of image vibes associated with the product.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nName\nType\nDescription\nDefault\n\n\n\n\ndescription\nstr\nThe description of the product.\nrequired\n\n\nurl\nstr\nThe URL of the product.\nrequired\n\n\nimage_path\nstr\nThe path to the image of the product.\nrequired\n\n\nbrand\nhushh.catalog.Brand\nThe brand of the product.\nrequired\n\n\n\n\n\n\n\n\n\nType\nDescription\n\n\n\n\nhushh.errors.NoEmbeddableContent\nIf the description is missing.",
    "crumbs": [
      "Reference",
      "Catalog Helpers",
      "Product"
    ]
  },
  {
    "objectID": "reference/Product.html#attributes",
    "href": "reference/Product.html#attributes",
    "title": "Product",
    "section": "",
    "text": "Name\nType\nDescription\n\n\n\n\ndescription\nstr\nThe description of the product.\n\n\nurl\nstr\nThe URL of the product.\n\n\nimage_path\nstr\nThe path to the image of the product.\n\n\nbrand\nhushh.catalog.Brand\nThe brand of the product.\n\n\ntextVibes\nlist\nA list of text vibes associated with the product.\n\n\nimageVibes\nlist\nA list of image vibes associated with the product.",
    "crumbs": [
      "Reference",
      "Catalog Helpers",
      "Product"
    ]
  },
  {
    "objectID": "reference/Product.html#parameters",
    "href": "reference/Product.html#parameters",
    "title": "Product",
    "section": "",
    "text": "Name\nType\nDescription\nDefault\n\n\n\n\ndescription\nstr\nThe description of the product.\nrequired\n\n\nurl\nstr\nThe URL of the product.\nrequired\n\n\nimage_path\nstr\nThe path to the image of the product.\nrequired\n\n\nbrand\nhushh.catalog.Brand\nThe brand of the product.\nrequired",
    "crumbs": [
      "Reference",
      "Catalog Helpers",
      "Product"
    ]
  },
  {
    "objectID": "reference/Product.html#raises",
    "href": "reference/Product.html#raises",
    "title": "Product",
    "section": "",
    "text": "Type\nDescription\n\n\n\n\nhushh.errors.NoEmbeddableContent\nIf the description is missing.",
    "crumbs": [
      "Reference",
      "Catalog Helpers",
      "Product"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Hushh Vibe Catalog ",
    "section": "",
    "text": "Hushh Catalogs Files (hcf) are serialized formats intended to provide rapid loading of embedding data for the purposes of vector search. More information on the Hushh Catalog Format is available here\n\n\nYou can install the library from PyPI:\npython -m pip install hushh-vibe-catalog\nAnd the development version from GitHub with:\npython -m pip install git+https://github.com/hushh-labs/hushh-labs-catalog\n\n\n\n\n\ncat = Catalog(\"demo_catalog\")\ndummy_brand = Brand(\"dummy\", \"description\", \"dummy_url\")\nfor filename in tqdm(glob.glob(\"images/*\")):\n    id, ext = os.path.splitext(os.path.basename(filename))\n    id = int(id)\n    style = styles.loc[id]\n    if pd.isna(style.productDisplayName):\n        pass\n        # print(f\"Skipping: {id}, product had no description\")\n    else:\n        prod = Product(description=style.productDisplayName, url=\"dummy_url\", image_path=filename, brand = dummy_brand)\n        cat.addProduct(prod)\n\nprint(\"Writing Catalog\")\ncat.to_hcf(\"catalog.hcf\")\n\n\n\ncat = catalog.read_hcf(\"catalog.hcf\")\n    pv = cat.ProductVibes()\n    all_embeddings = []\n\n    embeddings = []\n\n    for idx in range(0,pv.ProductTextBatchesLength()):\n        batch = pv.ProductTextBatches(idx)\n        embs = batch.FlatTensorAsNumpy()\n        embs = embs.reshape(batch.ShapeAsNumpy())\n        embeddings.append(embs)\n\n    embeddings = np.concatenate(embeddings)\n\n\n    query = \"shoes\"\n\n    inputs = tokenizer([query], padding=True, return_tensors=\"pt\")\n    query_emb = model.get_text_features(**inputs)\n    hits = util.semantic_search(query_emb, embeddings, top_k=3)[0]\n    return cat.ProductVibes().Products(hits[0]['corpus_id']).Description()\n\n\n\n\nThe latest version of the schema is as follows.\nnamespace hushh.hcf;\n\ntable Brand {\n  id: string;\n  description: string;\n  name: string;\n  url: string;\n}\n\ntable Product {\n  id: string;\n  description: string;\n  url: string;\n  brand: Brand;\n}\n\ntable Vibe {\n  id: string;\n  description: string;\n  product_idx: [int];\n}\n\ntable Category {\n  id: string;\n  description: string;\n  url: string;\n  product_idx: [int];\n}\n\nenum VibeMode : byte { ProductText = 0, ProductImage, Text, Image, Category}\n\ntable FlatEmbeddingBatch {\n    id: string;\n    shape:[int];\n    vibe_mode: VibeMode;\n    flat_tensor:[float];\n    product_idx: [int];\n}\n\ntable ProductVibes {\n  id: string;\n  products: [Product];\n  brands: [Brand];\n  categories: [Category];\n  vibes: [Vibe];\n  product_text_batches: [FlatEmbeddingBatch];\n  product_image_batches: [FlatEmbeddingBatch];\n  text_batches: [FlatEmbeddingBatch];\n  image_batches: [FlatEmbeddingBatch];\n}\n\ntable Catalog {\n  id : string;\n  version: string;\n  description: string;\n  product_vibes: ProductVibes;\n  batch_size: int;\n  tokenizer_name_or_path: string;\n  model_name_or_path: string;\n}\n\nroot_type Catalog;\n\n\n\n\nThis project is released with a Contributor Code of Conduct. By contributing to this project, you agree to abide by its terms.\n\nIf you think you have encountered a bug, please submit an issue."
  },
  {
    "objectID": "index.html#installation",
    "href": "index.html#installation",
    "title": "Hushh Vibe Catalog ",
    "section": "",
    "text": "You can install the library from PyPI:\npython -m pip install hushh-vibe-catalog\nAnd the development version from GitHub with:\npython -m pip install git+https://github.com/hushh-labs/hushh-labs-catalog"
  },
  {
    "objectID": "index.html#example",
    "href": "index.html#example",
    "title": "Hushh Vibe Catalog ",
    "section": "",
    "text": "cat = Catalog(\"demo_catalog\")\ndummy_brand = Brand(\"dummy\", \"description\", \"dummy_url\")\nfor filename in tqdm(glob.glob(\"images/*\")):\n    id, ext = os.path.splitext(os.path.basename(filename))\n    id = int(id)\n    style = styles.loc[id]\n    if pd.isna(style.productDisplayName):\n        pass\n        # print(f\"Skipping: {id}, product had no description\")\n    else:\n        prod = Product(description=style.productDisplayName, url=\"dummy_url\", image_path=filename, brand = dummy_brand)\n        cat.addProduct(prod)\n\nprint(\"Writing Catalog\")\ncat.to_hcf(\"catalog.hcf\")\n\n\n\ncat = catalog.read_hcf(\"catalog.hcf\")\n    pv = cat.ProductVibes()\n    all_embeddings = []\n\n    embeddings = []\n\n    for idx in range(0,pv.ProductTextBatchesLength()):\n        batch = pv.ProductTextBatches(idx)\n        embs = batch.FlatTensorAsNumpy()\n        embs = embs.reshape(batch.ShapeAsNumpy())\n        embeddings.append(embs)\n\n    embeddings = np.concatenate(embeddings)\n\n\n    query = \"shoes\"\n\n    inputs = tokenizer([query], padding=True, return_tensors=\"pt\")\n    query_emb = model.get_text_features(**inputs)\n    hits = util.semantic_search(query_emb, embeddings, top_k=3)[0]\n    return cat.ProductVibes().Products(hits[0]['corpus_id']).Description()"
  },
  {
    "objectID": "index.html#latest-schema",
    "href": "index.html#latest-schema",
    "title": "Hushh Vibe Catalog ",
    "section": "",
    "text": "The latest version of the schema is as follows.\nnamespace hushh.hcf;\n\ntable Brand {\n  id: string;\n  description: string;\n  name: string;\n  url: string;\n}\n\ntable Product {\n  id: string;\n  description: string;\n  url: string;\n  brand: Brand;\n}\n\ntable Vibe {\n  id: string;\n  description: string;\n  product_idx: [int];\n}\n\ntable Category {\n  id: string;\n  description: string;\n  url: string;\n  product_idx: [int];\n}\n\nenum VibeMode : byte { ProductText = 0, ProductImage, Text, Image, Category}\n\ntable FlatEmbeddingBatch {\n    id: string;\n    shape:[int];\n    vibe_mode: VibeMode;\n    flat_tensor:[float];\n    product_idx: [int];\n}\n\ntable ProductVibes {\n  id: string;\n  products: [Product];\n  brands: [Brand];\n  categories: [Category];\n  vibes: [Vibe];\n  product_text_batches: [FlatEmbeddingBatch];\n  product_image_batches: [FlatEmbeddingBatch];\n  text_batches: [FlatEmbeddingBatch];\n  image_batches: [FlatEmbeddingBatch];\n}\n\ntable Catalog {\n  id : string;\n  version: string;\n  description: string;\n  product_vibes: ProductVibes;\n  batch_size: int;\n  tokenizer_name_or_path: string;\n  model_name_or_path: string;\n}\n\nroot_type Catalog;"
  },
  {
    "objectID": "index.html#contributing",
    "href": "index.html#contributing",
    "title": "Hushh Vibe Catalog ",
    "section": "",
    "text": "This project is released with a Contributor Code of Conduct. By contributing to this project, you agree to abide by its terms.\n\nIf you think you have encountered a bug, please submit an issue."
  },
  {
    "objectID": "notebooks/KNN Search.html",
    "href": "notebooks/KNN Search.html",
    "title": "Catalog Format",
    "section": "",
    "text": "from hushh import catalog\nfrom hushh.hcf.VibeMode import VibeMode\nimport numpy as np\nfrom sentence_transformers import util\nfrom transformers import CLIPModel, CLIPTokenizer\n\n\ntokenizer = CLIPTokenizer.from_pretrained(\"openai/clip-vit-base-patch32\")\nmodel = CLIPModel.from_pretrained(\"openai/clip-vit-base-patch32\")\n\n\n\n\ndef perform_search(query):\n    cat = catalog.read_hcf(\"catalog.hcf\")\n    pv = cat.ProductVibes()\n    all_embeddings = []\n    \n    embeddings = []\n\n    for idx in range(0,pv.ProductTextBatchesLength()):\n        batch = pv.ProductTextBatches(idx)\n        embs = batch.FlatTensorAsNumpy()\n        embs = embs.reshape(batch.ShapeAsNumpy())\n        embeddings.append(embs)\n\n    embeddings = np.concatenate(embeddings)\n\n        \n    query = \"shoes\"\n    \n    inputs = tokenizer([query], padding=True, return_tensors=\"pt\")\n    query_emb = model.get_text_features(**inputs)\n    hits = util.semantic_search(query_emb, embeddings, top_k=3)[0]\n    return cat.ProductVibes().Products(hits[0]['corpus_id']).Description()\n\n\nperform_search(\"shoes\")\n\nb'Enroute Men Black Shoes'\n\n\n\n%timeit -n 3 perform_search(\"shoes\")\n\n58.4 ms ± 6.66 ms per loop (mean ± std. dev. of 7 runs, 3 loops each)"
  }
]